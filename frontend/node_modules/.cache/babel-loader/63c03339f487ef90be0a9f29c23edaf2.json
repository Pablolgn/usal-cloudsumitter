{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pablo/work/src/gitlab.com/Pablolgn/usal-cloudsubmitter/frontend/src/components/State.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close'; //percentaje\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Collapse from '@material-ui/core/Collapse';\nimport { IconButton, Grid, Button } from '@material-ui/core';\nimport Preview from './Preview';\nimport { useState } from 'react';\nimport axios from 'axios';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginLeft: theme.spacing(20),\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(5)\n  },\n  label1: {\n    marginTop: theme.spacing(5)\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  label2: {\n    marginTop: theme.spacing(3)\n  },\n  closeButton: {\n    marginLeft: theme.spacing(2),\n    marginTop: theme.spacing(4)\n  },\n  iframe: {\n    width: 490,\n    height: 276,\n    marginTop: theme.spacing(1),\n    marginLeft: theme.spacing(11)\n  },\n  printStatus: {\n    marginLeft: theme.spacing(5)\n  }\n}));\n\nfunction State(props) {\n  _s();\n\n  const classes = useStyles();\n  const [status, setStatus] = useState(false);\n  const [close, setClose] = useState(false);\n  const [enableBut, setEnableBut] = useState(false);\n  const [zmove, setzmove] = useState(false);\n\n  if (props.state.state === \"Printing\") {\n    if (status === false) {\n      setStatus(true);\n    }\n  }\n\n  if (props.state.state === \"Paused\") {\n    if (enableBut === false) {\n      setStatus(true);\n    }\n  }\n  /*\n    if(zmove === true || props.state.state===\"Operational\"){\n      setzmove(false)\n      axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/zmove\").then(response => {\n        // server answer\n      }).catch(e => {\n        console.log(e);\n      });\n  \n    }\n    */\n\n\n  function handlerCancel() {\n    setEnableBut(true);\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/cancel\").then(response => {// server answer\n    }).catch(e => {\n      console.log(e);\n    });\n    setzmove(true);\n  }\n\n  function handlerClose() {\n    if (props.state.state !== \"Operational\") {\n      setClose(true);\n    } else {\n      setStatus(false);\n    }\n  }\n\n  function handlerPause() {\n    setEnableBut(true);\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/pause\").then(response => {// server answer\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(Collapse, {\n        in: status,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 2,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.model,\n              children: props.model.map(auxModel => /*#__PURE__*/_jsxDEV(Preview, {\n                size: 70,\n                file: auxModel,\n                margin: 10\n              }, 1024, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            sm: true,\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 5,\n              container: true,\n              direction: \"column\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  variant: \"h5\",\n                  children: [\"State: \", props.state.state]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"File: \", props.state.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Size: \", props.state.size, \" MB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"User: \", props.state.user]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                direction: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  size: \"small\",\n                  color: \"default\",\n                  disabled: enableBut,\n                  className: classes.margin,\n                  onClick: handlerCancel,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  size: \"small\",\n                  color: \"default\",\n                  disabled: enableBut,\n                  className: classes.margin,\n                  onClick: handlerPause,\n                  children: props.state.state === \"Paused\" ? \"Resume\" : \"Pause\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 5,\n              container: true,\n              direction: \"column\",\n              spacing: 2,\n              alignItems: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                className: classes.label1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Filament: \", props.state.filaLength, \"m/\", props.state.filaVol, \"cm\", /*#__PURE__*/_jsxDEV(\"sup\", {\n                    children: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 80\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Print time left: \", props.state.printTimeLeft, \" min\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Print time: \", props.state.printTime]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              container: true,\n              xs: 1,\n              direction: \"column\",\n              alignContent: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                children: [props.state.price, \"\\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                className: classes.label2,\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  position: \"relative\",\n                  display: \"inline-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                    variant: \"static\",\n                    value: props.state.percent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    top: 0,\n                    left: 0,\n                    bottom: 0,\n                    right: 0,\n                    position: \"absolute\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      component: \"div\",\n                      color: \"textSecondary\",\n                      children: `${Math.round(props.state.percent)}%`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 1,\n              className: classes.closeButton,\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"default\",\n                \"aria-label\": \"Delete\",\n                onClick: handlerClose,\n                children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            className: classes.iframe,\n            scrolling: \"no\",\n            frameBorder: \"0\",\n            title: \"Printer Camera\",\n            src: \"http://mini3dfactory.duckdns.org:3008/webcam/?action=stream\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(State, \"3V6UJ4kEiPoWtJfXKrf+Z1yo3Bc=\", false, function () {\n  return [useStyles];\n});\n\n_c = State;\nexport default State;\n\nvar _c;\n\n$RefreshReg$(_c, \"State\");","map":{"version":3,"sources":["/home/pablo/work/src/gitlab.com/Pablolgn/usal-cloudsubmitter/frontend/src/components/State.js"],"names":["React","Typography","makeStyles","CloseIcon","CircularProgress","Box","Paper","Collapse","IconButton","Grid","Button","Preview","useState","axios","useStyles","theme","paper","marginLeft","spacing","marginTop","marginRight","label1","margin","label2","closeButton","iframe","width","height","printStatus","State","props","classes","status","setStatus","close","setClose","enableBut","setEnableBut","zmove","setzmove","state","handlerCancel","get","then","response","catch","e","console","log","handlerClose","handlerPause","model","map","auxModel","name","size","user","filaLength","filaVol","printTimeLeft","printTime","price","percent","Math","round"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n//percentaje\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Collapse from '@material-ui/core/Collapse';\nimport { IconButton, Grid, Button} from '@material-ui/core';\nimport Preview from './Preview';\nimport {useState} from 'react'\nimport axios from 'axios';\n\n\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginLeft: theme.spacing(20),\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(5),\n  },\n  label1: {\n    marginTop: theme.spacing(5),\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  label2: {\n    marginTop: theme.spacing(3),\n  },\n  closeButton: {\n    marginLeft: theme.spacing(2),\n    marginTop: theme.spacing(4)\n  },\n  iframe: {\n    width: 490,\n    height: 276,\n    marginTop: theme.spacing(1),\n    marginLeft: theme.spacing(11),\n  },\n  printStatus: {\n    marginLeft:theme.spacing(5),\n  },\n\n \n\n}));\nfunction State(props) {\n\n  const classes = useStyles();\n\n  const [status,setStatus] = useState(false);\n  const [close, setClose] = useState(false)\n  const [enableBut,setEnableBut] = useState(false);\n  const [zmove,setzmove] = useState(false);\n\n  if(props.state.state===\"Printing\"){\n    if(status===false){\n      setStatus(true)\n    }\n  }\n  \n\n  if(props.state.state===\"Paused\"){\n    if(enableBut===false){\n      setStatus(true)\n    }\n  }\n/*\n  if(zmove === true || props.state.state===\"Operational\"){\n    setzmove(false)\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/zmove\").then(response => {\n      // server answer\n    }).catch(e => {\n      console.log(e);\n    });\n\n  }\n  */\n\n  function handlerCancel(){\n    setEnableBut(true)\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/cancel\").then(response => {\n      // server answer\n    }).catch(e => {\n      console.log(e);\n    });\n    setzmove(true)\n  }\n  \n  function handlerClose(){\n    if(props.state.state !== \"Operational\"){\n      setClose(true)\n    }else{\n    setStatus(false)\n    }\n  }\n  \n\n\n  function handlerPause(){\n    setEnableBut(true)\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/pause\").then(response => {\n      // server answer\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n\n  return (\n    <div>\n      <Paper className={classes.paper}>\n     <Collapse in={status}>\n          <Grid container spacing={2}>\n            <Grid item xs={2} >\n              <div className={classes.model} > \n                {props.model.map(auxModel=>\n                    <Preview size={70} file={auxModel} key={1024} margin={10}/>\n                )}\n              </div>\n            </Grid>\n            <Grid item sm container>\n              <Grid item xs={5} container direction=\"column\" spacing={2}>\n                <Grid item xs>\n                  <Typography gutterBottom variant={\"h5\"}>\n                    State: {props.state.state}\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    File: {props.state.name}\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    Size: {props.state.size} MB\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    User: {props.state.user}\n                  </Typography>\n                </Grid>\n                <Grid container direction=\"row\">\n                  <Button variant=\"contained\"  size=\"small\" color=\"default\" disabled={enableBut} className={classes.margin} onClick={handlerCancel}>\n                    Cancel\n                  </Button>\n                  <Button variant=\"contained\" size=\"small\" color=\"default\" disabled={enableBut} className={classes.margin} onClick={handlerPause}>\n                    {props.state.state === \"Paused\"\n                      ? \"Resume\"\n                      : \"Pause\"\n                    }\n                  </Button>\n                </Grid>\n\n              </Grid>\n              <Grid item xs={5} container direction=\"column\" spacing={2} alignItems={\"center\"} >\n                <Grid item xs className={classes.label1}>\n                  <Typography variant=\"body2\" gutterBottom >\n                    Filament: {props.state.filaLength}m/{props.state.filaVol}cm<sup>3</sup>\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    Print time left: {props.state.printTimeLeft} min\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    Print time: {props.state.printTime}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid item container xs={1} direction={\"column\"} alignContent={\"center\"}>\n                <Typography variant=\"subtitle1\">\n                  {props.state.price}€\n                </Typography>\n                <Grid item className={classes.label2} >\n                  <Box position=\"relative\" display=\"inline-flex\">\n                    <CircularProgress variant=\"static\" value={props.state.percent} />\n                    <Box\n                      top={0}\n                      left={0}\n                      bottom={0}\n                      right={0}\n                      position=\"absolute\"\n                      display=\"flex\"\n                      alignItems=\"center\"\n                      justifyContent=\"center\"\n                    >\n                      <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\n                        props.state.percent,\n                      )}%`}</Typography>\n                    </Box>\n                  </Box>\n                </Grid>\n              </Grid>\n              <Grid item xs={1} className={classes.closeButton}>\n                <IconButton color=\"default\" aria-label=\"Delete\" onClick={handlerClose}>\n                  <CloseIcon/>\n                </IconButton> \n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid>\n            <iframe className={classes.iframe} scrolling=\"no\" frameBorder=\"0\" title=\"Printer Camera\" src=\"http://mini3dfactory.duckdns.org:3008/webcam/?action=stream\"></iframe>\n          </Grid>\n        </Collapse>\n      </Paper>\n      </div>\n  );\n}\n\nexport default State;"]},"metadata":{},"sourceType":"module"}