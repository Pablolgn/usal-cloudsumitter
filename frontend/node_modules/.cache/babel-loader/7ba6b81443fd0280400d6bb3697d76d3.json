{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pablo/work/src/gitlab.com/Pablolgn/usal-cloudsubmitter/frontend/src/components/State.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close'; //percentaje\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Collapse from '@material-ui/core/Collapse';\nimport { IconButton, Grid, Button } from '@material-ui/core';\nimport Preview from './Preview';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Iframe from 'react-iframe';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginLeft: theme.spacing(20),\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(5)\n  },\n  label1: {\n    marginTop: theme.spacing(5)\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  label2: {\n    marginTop: theme.spacing(3)\n  },\n  closeButton: {\n    marginLeft: theme.spacing(2),\n    marginTop: theme.spacing(4)\n  },\n  iframe: {\n    border: 0,\n    width: 250,\n\n    /*or any other size*/\n    height: 300,\n\n    /*or any other size*/\n    overflow: hidden\n  },\n  printStatus: {\n    marginLeft: theme.spacing(5)\n  }\n}));\n\nfunction State(props) {\n  _s();\n\n  const classes = useStyles();\n  const [status, setStatus] = useState(false);\n  const [enableBut, setEnableBut] = useState(false);\n\n  if (props.state.state === \"Printing\") {\n    if (status === false) {\n      setStatus(true);\n    }\n  }\n\n  if (props.state.state === \"Paused\") {\n    if (enableBut === false) {\n      setStatus(true);\n    }\n  }\n\n  function handlerCancel() {\n    setEnableBut(true);\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/cancel\").then(response => {// server answer\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  function handlerPause() {\n    setEnableBut(true);\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/pause\").then(response => {// server answer\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(Collapse, {\n        in: status,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 2,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.model,\n              children: props.model.map(auxModel => /*#__PURE__*/_jsxDEV(Preview, {\n                size: 70,\n                file: auxModel,\n                margin: 10\n              }, 1024, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            sm: true,\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 5,\n              container: true,\n              direction: \"column\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  variant: \"h5\",\n                  children: [\"State: \", props.state.state]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"File: \", props.state.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Size: \", props.state.size, \" MB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"User: \", props.state.user]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                direction: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  size: \"small\",\n                  color: \"default\",\n                  disabled: enableBut,\n                  className: classes.margin,\n                  onClick: handlerCancel,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  size: \"small\",\n                  color: \"default\",\n                  disabled: enableBut,\n                  className: classes.margin,\n                  onClick: handlerPause,\n                  children: props.state.state === \"Paused\" ? \"Resume\" : \"Pause\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 5,\n              container: true,\n              direction: \"column\",\n              spacing: 2,\n              alignItems: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                className: classes.label1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Filament: \", props.state.filaLength, \"m/\", props.state.filaVol, \"cm\", /*#__PURE__*/_jsxDEV(\"sup\", {\n                    children: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 80\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Print time left: \", props.state.printTimeLeft, \" min\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  gutterBottom: true,\n                  children: [\"Print time: \", props.state.printTime]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              container: true,\n              xs: 1,\n              direction: \"column\",\n              alignContent: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                children: [props.state.price, \"\\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                className: classes.label2,\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  position: \"relative\",\n                  display: \"inline-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                    variant: \"static\",\n                    value: props.state.percent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    top: 0,\n                    left: 0,\n                    bottom: 0,\n                    right: 0,\n                    position: \"absolute\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      component: \"div\",\n                      color: \"textSecondary\",\n                      children: `${Math.round(props.state.percent)}%`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 1,\n              className: classes.closeButton,\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"default\",\n                \"aria-label\": \"Delete\",\n                children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n          width: \"500\",\n          src: \"http://mini3dfactory.duckdns.org:3008/webcam/?action=stream\",\n          scrolling: \"no\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(State, \"kLoZe7pMYHlpOgVvfvYHrkbaSTk=\", false, function () {\n  return [useStyles];\n});\n\n_c = State;\nexport default State;\n\nvar _c;\n\n$RefreshReg$(_c, \"State\");","map":{"version":3,"sources":["/home/pablo/work/src/gitlab.com/Pablolgn/usal-cloudsubmitter/frontend/src/components/State.js"],"names":["React","Typography","makeStyles","CloseIcon","CircularProgress","Box","Paper","Collapse","IconButton","Grid","Button","Preview","useState","axios","Iframe","useStyles","theme","paper","marginLeft","spacing","marginTop","marginRight","label1","margin","label2","closeButton","iframe","border","width","height","overflow","hidden","printStatus","State","props","classes","status","setStatus","enableBut","setEnableBut","state","handlerCancel","get","then","response","catch","e","console","log","handlerPause","model","map","auxModel","name","size","user","filaLength","filaVol","printTimeLeft","printTime","price","percent","Math","round"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n//percentaje\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Collapse from '@material-ui/core/Collapse';\nimport { IconButton, Grid, Button} from '@material-ui/core';\nimport Preview from './Preview';\nimport {useState} from 'react'\nimport axios from 'axios';\nimport Iframe from 'react-iframe'\n\n\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginLeft: theme.spacing(20),\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(5),\n  },\n  label1: {\n    marginTop: theme.spacing(5),\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  label2: {\n    marginTop: theme.spacing(3),\n  },\n  closeButton: {\n    marginLeft: theme.spacing(2),\n    marginTop: theme.spacing(4)\n  },\n  iframe: {\n    border: 0,\n    width: 250, /*or any other size*/\n    height: 300, /*or any other size*/\n    overflow: hidden,\n  },\n  printStatus: {\n    marginLeft:theme.spacing(5),\n  },\n\n \n\n}));\nfunction State(props) {\n\n  const classes = useStyles();\n\n  const [status,setStatus] = useState(false);\n  const [enableBut,setEnableBut] = useState(false);\n\n\n  if(props.state.state===\"Printing\"){\n    if(status===false){\n      setStatus(true)\n    }\n  }\n  \n  if(props.state.state===\"Paused\"){\n    if(enableBut===false){\n      setStatus(true)\n    }\n  }\n\n\n  function handlerCancel(){\n\n    setEnableBut(true)\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/cancel\").then(response => {\n      // server answer\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  function handlerPause(){\n\n    setEnableBut(true)\n    axios.get(\"http://mini3dfactory.duckdns.org:3004/api/communication/pause\").then(response => {\n      // server answer\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n\n  return (\n    <div>\n      <Paper className={classes.paper}>\n     <Collapse in={status}>\n          <Grid container spacing={2}>\n            <Grid item xs={2} >\n              <div className={classes.model} > \n                {props.model.map(auxModel=>\n                    <Preview size={70} file={auxModel} key={1024} margin={10}/>\n                )}\n              </div>\n            </Grid>\n            <Grid item sm container>\n              <Grid item xs={5} container direction=\"column\" spacing={2}>\n                <Grid item xs>\n                  <Typography gutterBottom variant={\"h5\"}>\n                    State: {props.state.state}\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    File: {props.state.name}\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    Size: {props.state.size} MB\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    User: {props.state.user}\n                  </Typography>\n                </Grid>\n                <Grid container direction=\"row\">\n                  <Button variant=\"contained\"  size=\"small\" color=\"default\" disabled={enableBut} className={classes.margin} onClick={handlerCancel}>\n                    Cancel\n                  </Button>\n                  <Button variant=\"contained\" size=\"small\" color=\"default\" disabled={enableBut} className={classes.margin} onClick={handlerPause}>\n                    {props.state.state === \"Paused\"\n                      ? \"Resume\"\n                      : \"Pause\"\n                    }\n                  </Button>\n                </Grid>\n\n              </Grid>\n              <Grid item xs={5} container direction=\"column\" spacing={2} alignItems={\"center\"} >\n                <Grid item xs className={classes.label1}>\n                  <Typography variant=\"body2\" gutterBottom >\n                    Filament: {props.state.filaLength}m/{props.state.filaVol}cm<sup>3</sup>\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    Print time left: {props.state.printTimeLeft} min\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    Print time: {props.state.printTime}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid item container xs={1} direction={\"column\"} alignContent={\"center\"}>\n                <Typography variant=\"subtitle1\">\n                  {props.state.price}€\n                </Typography>\n                <Grid item className={classes.label2} >\n                  <Box position=\"relative\" display=\"inline-flex\">\n                    <CircularProgress variant=\"static\" value={props.state.percent} />\n                    <Box\n                      top={0}\n                      left={0}\n                      bottom={0}\n                      right={0}\n                      position=\"absolute\"\n                      display=\"flex\"\n                      alignItems=\"center\"\n                      justifyContent=\"center\"\n                    >\n                      <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\n                        props.state.percent,\n                      )}%`}</Typography>\n                    </Box>\n                  </Box>\n                </Grid>\n              </Grid>\n              <Grid item xs={1} className={classes.closeButton}>\n                <IconButton color=\"default\" aria-label=\"Delete\">\n                  <CloseIcon/>\n                </IconButton> \n              </Grid>\n            </Grid>\n          </Grid>\n          <iframe width=\"500\" src=\"http://mini3dfactory.duckdns.org:3008/webcam/?action=stream\" scrolling=\"no\" ></iframe>\n        </Collapse>\n      </Paper>\n      </div>\n  );\n}\n\nexport default State;"]},"metadata":{},"sourceType":"module"}